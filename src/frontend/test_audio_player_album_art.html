<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Player Album Art - Manual Testing</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="details.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .test-header {
            background: var(--card-background);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .test-section {
            background: var(--card-background);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .test-section h2 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .test-checklist {
            list-style: none;
            padding: 0;
        }

        .test-checklist li {
            padding: 0.5rem;
            margin: 0.25rem 0;
            border-left: 3px solid var(--border-color);
            padding-left: 1rem;
        }

        .test-checklist li::before {
            content: "☐ ";
            margin-right: 0.5rem;
            color: var(--text-muted);
        }

        .test-checklist li.pass::before {
            content: "✓ ";
            color: var(--success-color);
        }

        .test-checklist li.fail::before {
            content: "✗ ";
            color: var(--error-color);
        }

        .test-scenario {
            background: var(--background-color);
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }

        .test-scenario h3 {
            margin-top: 0;
            font-size: 1rem;
            color: var(--text-color);
        }

        .test-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }

        .test-button:hover {
            background: var(--primary-hover);
        }

        .test-result {
            margin-top: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.875rem;
        }

        .test-result.pass {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .test-result.fail {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
        }

        #demo-player-container {
            background: var(--card-background);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow-md);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>Audio Player Album Art - Manual Testing Page</h1>
            <p>This page provides manual testing scenarios for the audio player album art feature (Wave 5).</p>
            <p><strong>Testing Date:</strong> <span id="test-date"></span></p>
        </div>

        <div class="test-section">
            <h2>Test Scenario 1: Album Art Available</h2>
            <div class="test-scenario">
                <h3>Description</h3>
                <p>Test audio player with album art available. Album art should load from API endpoint and display correctly.</p>

                <h3>Test Steps</h3>
                <ul class="test-checklist">
                    <li>Album art image displays (not default SVG)</li>
                    <li>Image is 300x300px max (desktop)</li>
                    <li>Border radius applied (8px rounded corners)</li>
                    <li>Box shadow visible</li>
                    <li>Lazy loading attribute present</li>
                    <li>Fade-in transition on load (200ms)</li>
                    <li>No layout shift (container sized before image)</li>
                    <li>Alt text includes audio title</li>
                </ul>

                <button class="test-button" onclick="simulateWithArt()">Simulate Album Art Available</button>
                <div id="result-with-art" class="test-result" style="display: none;"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>Test Scenario 2: Album Art Unavailable</h2>
            <div class="test-scenario">
                <h3>Description</h3>
                <p>Test audio player without album art. Default SVG microphone icon should display.</p>

                <h3>Test Steps</h3>
                <ul class="test-checklist">
                    <li>Default SVG displays (gray microphone icon)</li>
                    <li>SVG background is #676767 (dark gray)</li>
                    <li>Microphone icon is #d2d2d2 (light gray)</li>
                    <li>No broken image icon</li>
                    <li>Same size as scenario 1 (300x300px max)</li>
                    <li>No network request for cover art</li>
                </ul>

                <button class="test-button" onclick="simulateWithoutArt()">Simulate No Album Art</button>
                <div id="result-without-art" class="test-result" style="display: none;"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>Test Scenario 3: Album Art Load Error</h2>
            <div class="test-scenario">
                <h3>Description</h3>
                <p>Test error handling when album art fails to load (404, network error, etc.).</p>

                <h3>Test Steps</h3>
                <ul class="test-checklist">
                    <li>Image falls back to default SVG on error</li>
                    <li>No broken image visible</li>
                    <li>No console errors (only warning)</li>
                    <li>Fallback happens smoothly (no flicker)</li>
                </ul>

                <button class="test-button" onclick="simulateLoadError()">Simulate Load Error</button>
                <div id="result-load-error" class="test-result" style="display: none;"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>Test Scenario 4: Responsive Mobile</h2>
            <div class="test-scenario">
                <h3>Description</h3>
                <p>Test album art display on mobile viewports. Resize browser to < 768px width.</p>

                <h3>Test Steps</h3>
                <ul class="test-checklist">
                    <li>Image scales to 200x200px max (mobile)</li>
                    <li>Still centered in container</li>
                    <li>Still has border radius</li>
                    <li>Proportions maintained (1:1 aspect ratio)</li>
                </ul>

                <button class="test-button" onclick="checkResponsive()">Check Current Viewport</button>
                <div id="result-responsive" class="test-result" style="display: none;"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>Demo Audio Player</h2>
            <p>This is a live demo of the audio player with album art support. Use the buttons above to simulate different scenarios.</p>

            <div id="demo-player-container">
                <div class="audio-header">
                    <h2>Audio Playback</h2>
                    <div id="audio-metadata" class="audio-metadata"></div>
                </div>
                <!-- Album Art Container -->
                <div id="album-art-container" class="album-art-container">
                    <img
                        id="album-art"
                        class="album-art"
                        src=""
                        alt="Album art"
                        loading="lazy"
                    >
                </div>
                <div class="audio-player-wrapper">
                    <p style="color: var(--text-muted); font-size: 0.875rem;">
                        <em>Note: Audio playback functionality not included in this test page (testing visual elements only).</em>
                    </p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Browser Compatibility Checklist</h2>
            <ul class="test-checklist">
                <li>Chrome/Edge (latest) - Desktop</li>
                <li>Firefox (latest) - Desktop</li>
                <li>Safari (latest) - Desktop</li>
                <li>Chrome Mobile (Android)</li>
                <li>Safari Mobile (iOS 15+)</li>
            </ul>
            <p style="color: var(--text-muted); font-size: 0.875rem;">
                Expected: Identical rendering in all browsers
            </p>
        </div>
    </div>

    <script type="module">
        // Default album art SVG (same as audio-player.js)
        const DEFAULT_ALBUM_ART_SVG = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDxyZWN0IHg9Ii01MS4yIiB5PSItNTEuMiIgd2lkdGg9IjYxNC40IiBoZWlnaHQ9IjYxNC40IiBmaWxsPSIjNjc2NzY3Ii8+CiA8cGF0aCBkPSJtMjMyLjgyIDIwNi4xNWMtMS44MDA4IDAtMy40Mzc1LTAuNzQyMTktNC42MzY3LTEuOTI1OC0xLjE4MzYtMS4xODM2LTEuOTI1OC0yLjgyMDMtMS45MjU4LTQuNjM2N3YtMzEuMjczYzAtMS44MDA4IDAuNzQyMTktMy40Mzc1IDEuOTI1OC00LjYzNjcgMS4xODM2LTEuMTgzNiAyLjgyMDMtMS45MjU4IDQuNjM2Ny0xLjkyNTggMS44MDA4IDAgMy40Mzc1IDAuNzQyMTkgNC42MzY3IDEuOTI1OCAxLjE4MzYgMS4xODM2IDEuOTI1OCAyLjgyMDMgMS45MjU4IDQuNjM2N3YzMS4yNzNjMCAxLjgwMDgtMC43NDIxOSAzLjQzNzUtMS45MjU4IDQuNjM2Ny0xLjE4MzYgMS4xODM2LTIuODIwMyAxLjkyNTgtNC42MzY3IDEuOTI1OHptLTUyLjM4MyA4NC4yMTFjMCAxLjE0NDUtMC45MzM1OSAyLjA3ODEtMi4wNzgxIDIuMDc4MWgtMjkuNTM1YzAuNjI4OTEgNy4xMDU1IDMuODA0NyAxMy41MTYgOC41ODk4IDE4LjMwMSA1LjM3ODkgNS4zNzg5IDEyLjc4NSA4LjcwMzEgMjAuOTM0IDguNzAzMSA4LjE0ODQgMCAxNS41NjYtMy4zMzU5IDIwLjkzNC04LjcwMzEgNS4zNzg5LTUuMzc4OSA4LjcwMzEtMTIuNzg1IDguNzAzMS0yMC45MzR2LTQxLjMzNmMwLTguMTQ4NC0zLjMzNTktMTUuNTY2LTguNzAzMS0yMC45MzQtNS4zNzg5LTUuMzc4OS0xMi43ODUtOC43MDMxLTIwLjkzNC04LjcwMzEtOC4xNDg0IDAtMTUuNTY2IDMuMzM1OS0yMC45MzQgOC43MDMxLTQuNzczNCA0Ljc3MzQtNy45MzM2IDExLjE0OC04LjU3ODEgMTguMjExaDI5LjUzNWMxLjE0NDUgMCAyLjA3ODEgMC45MzM1OSAyLjA3ODEgMi4wNzgxczAtMC45MzM1OS0yLjA3ODEgMi4wNzgxaC0yOS42NDh2MTAuMDM5aDI5LjY0OGMxLjE0NDUgMCAyLjA3ODEgMC45MzM1OSAyLjA3ODEgMi4wNzgxcy0wLjkzMzU5IDIuMDc4MS0yLjA3ODEgMi4wNzgxaC0yOS42NDh2MTAuMDM5aDI5LjY0OGMxLjE0NDUgMCAyLjA3ODEgMC45MzM1OSAyLjA3ODEgMi4wNzgxIDAgMS4xNDQ1LTAuOTMzNTkgMi4wNzgxLTIuMDc4MSAyLjA3ODFoLTI5LjY0OHYxMC4wMzloMjkuNjQ4YzEuMTQ0NSAwIDIuMDc4MSAwLjkzMzU5IDIuMDc4MSAyLjA3ODF6bTE5NC4xMS0xNTguMjVjLTIuMzc4OS0yLjM3ODktNS42NTYyLTMuODU1NS05LjI2OTUtMy44NTU1aC0xOTIuODljLTMuNjEzMyAwLTYuODkwNiAxLjQ3MjctOS4yNjk1IDMuODU1NS0yLjM3ODkgMi4zNzg5LTMuODU1NSA1LjY1NjItMy44NTU1IDkuMjY5NXY2OC43NDJjMCAxLjE0NDUgMC45MzM1OSAyLjA3ODEgMi4wNzgxIDIuMDc4MSAxLjE0NDUgMCAyLjA3ODEtMC45MzM1OSAyLjA3ODEtMi4wNzgxbC0wLjAxMTcxOC02OC43NDJjMC0yLjQ2ODggMS4wMDc4LTQuNzEwOSAyLjY0NDUtNi4zNDc3IDEuNjI1LTEuNjI1IDMuODc4OS0yLjY0NDUgNi4zNDc3LTIuNjQ0NWgxOTIuODhjMi40Njg4IDAgNC43MTA5IDEuMDA3OCA2LjM0NzcgMi42NDQ1IDEuNjI1IDEuNjI1IDIuNjQ0NSAzLjg3ODkgMi42NDQ1IDYuMzQ3N3Y4NC41MjdjMCAyLjQ2ODgtMS4wMDc4IDQuNzEwOS0yLjY0NDUgNi4zNDc3LTEuNjI1IDEuNjI1LTMuODc4OSAyLjY0NDUtNi4zNDc3IDIuNjQ0NWgtMTQ4LjIxYy0xLjE0NDUgMC0yLjA3ODEgMC45MzM1OS0yLjA3ODEgMi4wNzgxczAuOTMzNTkgMi4wNzgxIDIuMDc4MSAyLjA3ODFoMTQ4LjIxYzMuNjEzMyAwIDYuODkwNi0xLjQ3MjcgOS4yNjk1LTMuODU1NSAyLjM3ODktMi4zNzg5IDMuODU1NS01LjY1NjIgMy44NTU1LTkuMjY5NXYtODQuNTU1YzAtMy42MTMzLTEuNDcyNy02Ljg5MDYtMy44NTU1LTkuMjY5NXptLTE5MC4xOSA2Ny4yODFjMS44MDA4IDAgMy40Mzc1LTAuNzQyMTkgNC42MzY3LTEuOTI1OCAxLjE4MzYtMS4xODM2IDEuOTI1OC0yLjgyMDMgMS45MjU4LTQuNjM2N3YtMTcuNzQ2YzAtMS44MDA4LTAuNzQyMTktMy40Mzc1LTEuOTI1OC00LjYzNjctMS4xODM2LTEuMTgzNi0yLjgyMDMtMS45MjU4LTQuNjM2Ny0xLjkyNTgtMS44MDA4IDAtMy40Mzc1IDAuNzQyMTktNC42MzY3IDEuOTI1OC0xLjE4MzYgMS4xODM2LTEuOTI1OCAyLjgyMDMtMS45MjU4IDQuNjM2N3YxNy43NDZjMCAxLjgwMDggMC43NDIxOSAzLjQzNzUgMS45MjU4IDQuNjM2NyAxLjE4MzYgMS4xODM2IDIuODIwMyAxLjkyNTggNC42MzY3IDEuOTI1OHptMjkuMDIgMTAuMjI3YzEuMTgzNi0xLjE4MzYgMS45MjU4LTIuODIwMyAxLjkyNTgtNC42MzY3di00Mi4wODJjMC0xLjgwMDgtMC43NDIxOS0zLjQzNzUtMS45MjU4LTQuNjM2Ny0xLjE4MzYtMS4xODM2LTIuODIwMy0xLjkyNTgtNC42MzY3LTEuOTI1OC0xLjgwMDggMC0zLjQzNzUgMC43NDIxOS00LjYzNjcgMS45MjU4LTEuMTgzNiAxLjE4MzYtMS45MjU4IDIuODIwMy0xLjkyNTggNC42MzY3djQyLjA4MmMwIDEuODAwOCAwLjc0MjE5IDMuNDM3NSAxLjkyNTggNC42MzY3IDEuMTgzNiAxLjE4MzYgMi44MjAzIDEuOTI1OCA0LjYzNjcgMS45MjU4IDEuODAwOCAwIDMuNDM3NS0wLjc0MjE5IDQuNjM2Ny0xLjkyNTh6bTQ3Ljk4OCAwYzEuMTgzNi0xLjE4MzYgMS45MjU4LTIuODIwMyAxLjkyNTgtNC42MzY3di00Mi4wODJjMC0xLjgwMDgtMC43NDIxOS0zLjQzNzUtMS45MjU4LTQuNjM2Ny0xLjE4MzYtMS4xODM2LTIuODIwMy0xLjkyNTgtNC42MzY3LTEuOTI1OC0xLjgwMDggMC0zLjQzNzUgMC43NDIxOS00LjYzNjcgMS45MjU4LTEuMTgzNiAxLjE4MzYtMS45MjU4IDIuODIwMy0xLjkyNTggNC42MzY3djQyLjA4MmMwIDEuODAwOCAwLjc0MjE5IDMuNDM3NSAxLjkyNTggNC42MzY3IDEuMTgzNiAxLjE4MzYgMi44MjAzIDEuOTI1OCA0LjYzNjcgMS45MjU4IDEuODAwOCAwIDMuNDM3NS0wLjc0MjE5IDQuNjM2Ny0xLjkyNTh6bTcyLjc3My0xMS41MzljMS4xODM2LTEuMTgzNiAxLjkyNTgtMi44MjAzIDEuOTI1OC00LjYzNjd2LTE4Ljk4YzAtMS44MDA4LTAuNzQyMTktMy40Mzc1LTEuOTI1OC00LjYzNjctMS4xODM2LTEuMTgzNi0yLjgyMDMtMS45MjU4LTQuNjM2Ny0xLjkyNTgtMS44MDA4IDAtMy40Mzc1IDAuNzQyMTktNC42MzY3IDEuOTI1OC0xLjE4MzYgMS4xODM2LTEuOTI1OCAyLjgyMDMtMS45MjU4IDQuNjM2N3YxOC45OGMwIDEuODAwOCAwLjc0MjE5IDMuNDM3NSAxLjkyNTggNC42MzY3IDEuMTgzNiAxLjE4MzYgMi44MjAzIDEuOTI1OCA0LjYzNjcgMS45MjU4IDEuODAwOCAwIDMuNDM3NS0wLjc0MjE5IDQuNjM2Ny0xLjkyNTh6bS0yNC45MjYgMTIuMDI3YzEuMTgzNi0xLjE4MzYgMS45MjU4LTIuODIwMyAxLjkyNTgtNC42MzY3di00My4wNjJjMC0xLjgwMDgtMC43NDIxOS0zLjQzNzUtMS45MjU4LTQuNjM2Ny0xLjE4MzYtMS4xODM2LTIuODIwMy0xLjkyNTgtNC42MzY3LTEuOTI1OC0xLjgwMDggMC0zLjQzNzUgMC43NDIxOS00LjYzNjcgMS45MjU4LTEuMTgzNiAxLjE4MzYtMS45MjU4IDIuODIwMy0xLjkyNTggNC42MzY3djQzLjA2MmMwIDEuODAwOCAwLjc0MjE5IDMuNDM3NSAxLjkyNTggNC42MzY3IDEuMTgzNiAxLjE4MzYgMi44MjAzIDEuOTI1OCA0LjYzNjcgMS45MjU4IDEuODAwOCAwIDMuNDM3NS0wLjc0MjE5IDQuNjM2Ny0xLjkyNTh6bS0yMy45MTggMTUuOTY5YzEuMTgzNi0xLjE4MzYgMS45MjU4LTIuODIwMyAxLjkyNTgtNC42MzY3di03NC45OGMwLTEuODAwOC0wLjc0MjE5LTMuNDM3NS0xLjkyNTgtNC42MzY3LTEuMTgzNi0xLjE4MzYtMi44MjAzLTEuOTI1OC00LjYzNjctMS45MjU4LTEuODAwOCAwLTMuNDM3NSAwLjc0MjE5LTQuNjM2NyAxLjkyNTgtMS4xODM2IDEuMTgzNi0xLjkyNTggMi44MjAzLTEuOTI1OCA0LjYzNjd2NzQuOThjMCAxLjgwMDggMC43NDIxOSAzLjQzNzUgMS45MjU4IDQuNjM2NyAxLjE4MzYgMS4xODM2IDIuODIwMyAxLjkyNTggNC42MzY3IDEuOTI1OCAxLjgwMDggMCAzLjQzNzUtMC43NDIxOSA0LjYzNjctMS45MjU4em03My4wMDQtMjEuMTIxYzEuMTgzNi0xLjE4MzYgMS45MjU4LTIuODIwMyAxLjkyNTgtNC42MzY3di0zMi43NThjMC0xLjgwMDgtMC43NDIxOS0zLjQzNzUtMS45MjU4LTQuNjM2Ny0xLjE4MzYtMS4xODM2LTIuODIwMy0xLjkyNTgtNC42MzY3LTEuOTI1OC0xLjgwMDggMC0zLjQzNzUgMC43NDIxOS00LjYzNjcgMS45MjU4LTEuMTgzNiAxLjE4MzYtMS45MjU4IDIuODIwMy0xLjkyNTggNC42MzY3djMyLjc1OGMwIDEuODAwOCAwLjc0MjE5IDMuNDM3NSAxLjkyNTggNC42MzY3IDEuMTgzNiAxLjE4MzYgMi44MjAzIDEuOTI1OCA0LjYzNjcgMS45MjU4IDEuODAwOCAwIDMuNDM3NS0wLjc0MjE5IDQuNjM2Ny0xLjkyNTh6bS0xMzcuMjcgODAuODU5Yy0xLjE0NDUgMC0yLjA4OTggMC45MzM1OS0yLjA4OTggMi4wODk4djQuNjk5MmMwIDIyLjM4My0xOC4xOTkgNDAuNTgyLTQwLjU4MiA0MC41ODItMjIuMzgzIDAtNDAuNTgyLTE4LjE5OS00MC41ODItNDAuNTgydi00LjY5OTJjMC0xLjE0NDUtMC45MzM1OS0yLjA4OTgtMi4wODk4LTIuMDg5OC0xLjE0NDUgMC0yLjA4OTggMC45MzM1OS0yLjA4OTggMi4wODk4djQuNjk5MmMwIDIyLjc1OCAxNy4wNzggNDEuNTY2IDM5LjA5NCA0NC4zNTktMC4wMTE3MTkgMC4xMzY3Mi0wLjA1MDc4MSAwLjI2NTYyLTAuMDUwNzgxIDAuNDAyMzR2MzQuNDM4YzAgMC4yODkwNi0wLjIyNjU2IDAuNTE1NjItMC41MTU2MiAwLjUxNTYyaC0xNC4xMDVjLTEuNTc0MiAwLTIuOTk2MSAwLjY0MDYzLTQuMDMxMiAxLjY3NTgtMS4wMzEyIDEuMDMxMi0xLjY3NTggMi40Njg4LTEuNjc1OCA0LjAzMTIgMCAxLjU3NDIgMC42NDA2MiAyLjk5NjEgMS42NzU4IDQuMDMxMiAxLjAzMTIgMS4wMzEyIDIuNDY4OCAxLjY3NTggNC4wMzEyIDEuNjc1OGg0MC42NjhjMS41NzQyIDAgMi45OTYxLTAuNjQwNjIgNC4wMzEyLTEuNjc1OCAxLjAzMTItMS4wMzEyIDEuNjc1OC0yLjQ2ODggMS42NzU4LTQuMDMxMiAwLTEuNTc0Mi0wLjY0MDYyLTIuOTk2MS0xLjY3NTgtNC4wMzEyLTEuMDMxMi0xLjAzMTItMi40Njg4LTEuNjc1OC00LjAzMTItMS42NzU4aC0xNC4xMDVjLTAuMjg5MDYgMC0wLjUxNTYyLTAuMjI2NTYtMC41MTU2Mi0wLjUxNTYydi0zNC40MzhjMC0wLjEzNjcyLTAuMDM5MDYyLTAuMjY1NjMtMC4wNTA3ODEtMC40MDIzNCAyMi4wMDQtMi43OTY5IDM5LjA5NC0yMS42MDIgMzkuMDk0LTQ0LjM1OXYtNC42OTkyYzAtMS4xNDQ1LTAuOTMzNTktMi4wODk4LTIuMDg5OC0yLjA4OTh6IiBmaWxsPSIjZDJkMmQyIi8+Cjwvc3ZnPgo=';

        // Set test date
        document.getElementById('test-date').textContent = new Date().toLocaleDateString();

        // Test functions
        window.simulateWithArt = function() {
            const albumArt = document.getElementById('album-art');
            const metadata = document.getElementById('audio-metadata');
            const result = document.getElementById('result-with-art');

            // Simulate album art available
            albumArt.classList.add('loading');
            albumArt.src = 'https://via.placeholder.com/300x300/4f46e5/ffffff?text=Album+Art';
            metadata.innerHTML = '<div class="metadata-item"><strong>Title:</strong> Test Song</div><div class="metadata-item"><strong>Artist:</strong> Test Artist</div>';

            albumArt.addEventListener('load', () => {
                albumArt.classList.remove('loading');
                albumArt.classList.add('loaded');
                result.textContent = '✓ Album art loaded successfully. Check visual appearance against checklist.';
                result.className = 'test-result pass';
                result.style.display = 'block';
            }, { once: true });
        };

        window.simulateWithoutArt = function() {
            const albumArt = document.getElementById('album-art');
            const metadata = document.getElementById('audio-metadata');
            const result = document.getElementById('result-without-art');

            // Simulate no album art
            albumArt.src = DEFAULT_ALBUM_ART_SVG;
            albumArt.classList.add('loaded');
            metadata.innerHTML = '<div class="metadata-item"><strong>Title:</strong> Test Song (No Art)</div>';

            result.textContent = '✓ Default SVG displayed. Verify microphone icon is visible.';
            result.className = 'test-result pass';
            result.style.display = 'block';
        };

        window.simulateLoadError = function() {
            const albumArt = document.getElementById('album-art');
            const result = document.getElementById('result-load-error');

            // Simulate load error with invalid URL
            albumArt.classList.add('loading');
            albumArt.src = 'https://invalid-url-that-will-fail.example.com/nonexistent.jpg';

            albumArt.addEventListener('error', () => {
                console.warn('[Test] Album art failed to load, using default SVG');
                albumArt.src = DEFAULT_ALBUM_ART_SVG;
                albumArt.classList.remove('loading');
                albumArt.classList.add('loaded');

                result.textContent = '✓ Error handled successfully. Fallback to default SVG working. Check console for warning.';
                result.className = 'test-result pass';
                result.style.display = 'block';
            }, { once: true });
        };

        window.checkResponsive = function() {
            const result = document.getElementById('result-responsive');
            const width = window.innerWidth;
            const albumArt = document.getElementById('album-art');
            const computedStyle = window.getComputedStyle(albumArt);
            const maxWidth = computedStyle.maxWidth;

            if (width < 768) {
                if (maxWidth === '200px') {
                    result.textContent = `✓ Mobile viewport (${width}px). Album art max-width is 200px. ✓ PASS`;
                    result.className = 'test-result pass';
                } else {
                    result.textContent = `✗ Mobile viewport (${width}px) but max-width is ${maxWidth}, expected 200px. ✗ FAIL`;
                    result.className = 'test-result fail';
                }
            } else {
                if (maxWidth === '300px') {
                    result.textContent = `✓ Desktop viewport (${width}px). Album art max-width is 300px. ✓ PASS`;
                    result.className = 'test-result pass';
                } else {
                    result.textContent = `✗ Desktop viewport (${width}px) but max-width is ${maxWidth}, expected 300px. ✗ FAIL`;
                    result.className = 'test-result fail';
                }
            }
            result.style.display = 'block';
        };

        // Initialize with default SVG
        const albumArt = document.getElementById('album-art');
        albumArt.src = DEFAULT_ALBUM_ART_SVG;
        albumArt.classList.add('loaded');
    </script>
</body>
</html>
